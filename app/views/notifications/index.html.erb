<div class="cool-form-container">
  <div class="cool-form-card" style="max-width: 800px;">
    <div class="cool-form-header">
      <div class="cool-form-icon">
        <i class="fa-solid fa-bell"></i>
      </div>
      <h1><%= t('notifications.index.title') %></h1>
      <p><%= t('notifications.index.subtitle') %></p>
    </div>

    <% if @notifications.any? %>
      <div class="notifications-actions">
        <% if @unread_count > 0 %>
          <%= link_to mark_all_as_read_notifications_path, method: :patch, data: { turbo_method: :patch }, class: "btn-mark-all" do %>
            <i class="fa-solid fa-check-double"></i> <%= t('notifications.index.mark_all_read') %>
          <% end %>
        <% end %>
      </div>

      <div class="notifications-full-list">
        <% @notifications.each do |notification| %>
          <%= link_to (notification.path || '#'),
                      class: "notification-full-item #{'unread' unless notification.read}",
                      data: { notification_id: notification.id } do %>
            <div class="notification-full-icon">
              <i class="<%= notification.icon_class %>"></i>
            </div>
            <div class="notification-full-content">
              <p class="notification-full-message"><%= notification.message %></p>
              <span class="notification-full-time">
                <i class="fa-regular fa-clock"></i>
                <%= time_ago_in_words(notification.created_at) %> <%= t('notifications.index.ago') %>
              </span>
            </div>
            <% unless notification.read %>
              <div class="notification-unread-dot"></div>
            <% end %>
          <% end %>
        <% end %>
      </div>
    <% else %>
      <div class="notifications-empty-state">
        <i class="fa-solid fa-bell-slash"></i>
        <h3><%= t('notifications.index.no_notifications') %></h3>
        <p><%= t('notifications.index.all_caught_up') %></p>
      </div>
    <% end %>

    <div class="cool-form-back">
      <%= link_to root_path do %>
        <i class="fa-solid fa-arrow-left"></i> <%= t('notifications.index.back_home') %>
      <% end %>
    </div>
  </div>
</div>
