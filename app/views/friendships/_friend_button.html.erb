 <div id="friend-button-<%= user.id %>" style="display: inline-block;">
    <% if user_signed_in? && current_user != user %>
      <% if current_user.friend_with?(user) %>
        <% friendship = current_user.sent_friend_requests.accepted.find_by(addressee: user) ||
                        current_user.received_friend_requests.accepted.find_by(requester: user) %>
        <%= button_to friendship_path(friendship), method: :delete, style: "padding: 8px 16px; background: #2a2a2a; color: #fff; border: 1px solid #444; border-radius: 8px; font-size:
  0.85rem; cursor: pointer;" do %>
          <i class="fa-solid fa-user-check"></i> Friends
        <% end %>
      <% elsif current_user.sent_friend_requests.pending.exists?(addressee: user) %>
        <% request = current_user.sent_friend_requests.pending.find_by(addressee: user) %>
        <%= button_to friendship_path(request), method: :delete, style: "padding: 8px 16px; background: #2a2a2a; color: #888; border: 1px solid #444; border-radius: 8px; font-size:
  0.85rem; cursor: pointer;" do %>
          <i class="fa-solid fa-clock"></i> Requested
        <% end %>
      <% elsif current_user.received_friend_requests.pending.exists?(requester: user) %>
        <% request = current_user.received_friend_requests.pending.find_by(requester: user) %>
        <%= button_to accept_friendship_path(request), method: :patch, style: "padding: 8px 16px; background: #C8E938; color: #000; border: none; border-radius: 8px; font-size:
  0.85rem; cursor: pointer;" do %>
          <i class="fa-solid fa-check"></i> Accept Request
        <% end %>
      <% else %>
        <%= button_to friendships_path(addressee_id: user.id), method: :post, style: "padding: 8px 16px; background: #E936AD; color: #fff; border: none; border-radius: 8px; font-size:
  0.85rem; cursor: pointer;" do %>
          <i class="fa-solid fa-user-plus"></i> Add Friend
        <% end %>
      <% end %>
    <% end %>
  </div>
