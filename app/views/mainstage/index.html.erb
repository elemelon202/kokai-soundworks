<div class="mainstage-page" style="max-width: 900px; margin: 0 auto; padding: 24px;">
  <%# Header %>
  <div style="text-align: center; margin-bottom: 32px;">
    <h1 style="color: #C8E938; font-size: 2.5rem; margin: 0 0 8px 0; display: flex; align-items: center; justify-content: center; gap: 12px;">
      <i class="fa-solid fa-trophy"></i> MAINSTAGE
    </h1>
    <p style="color: #888; font-size: 1rem; margin: 0 0 16px 0;">
      Weekly contest to find the most engaging artists
    </p>
    <div style="display: inline-flex; align-items: center; gap: 8px; padding: 8px 16px; background: #2a2a2a; border-radius: 20px;">
      <i class="fa-solid fa-calendar" style="color: #C8E938;"></i>
      <span style="color: #fff; font-size: 0.9rem;">
        <%= @contest.start_date.strftime('%b %d') %> - <%= @contest.end_date.strftime('%b %d, %Y') %>
      </span>
    </div>
  </div>

  <%# Voting info %>
  <% if current_user %>
    <% if @user_vote %>
      <div style="background: #1e3a1e; border: 1px solid #2d5a2d; border-radius: 12px; padding: 16px; margin-bottom: 24px; text-align: center;">
        <i class="fa-solid fa-check-circle" style="color: #4ade80; margin-right: 8px;"></i>
        <span style="color: #4ade80;">You voted for <strong><%= @user_vote.name %></strong> this week!</span>
      </div>
    <% else %>
      <div style="background: #2a2a2a; border-radius: 12px; padding: 16px; margin-bottom: 24px; text-align: center;">
        <i class="fa-solid fa-hand-pointer" style="color: #C8E938; margin-right: 8px;"></i>
        <span style="color: #fff;">Cast your vote for your favorite artist this week!</span>
      </div>
    <% end %>
  <% else %>
    <div style="background: #2a2a2a; border-radius: 12px; padding: 16px; margin-bottom: 24px; text-align: center;">
      <span style="color: #888;"><%= link_to "Sign in", new_user_session_path, style: "color: #C8E938;" %> to vote for your favorite artist!</span>
    </div>
  <% end %>

  <%# Leaderboard %>
  <%= render "mainstage/leaderboard", contest: @contest, leaderboard: @leaderboard, user_vote: @user_vote %>

  <%# How it works %>
  <div style="margin-top: 32px; padding: 24px; background: #1e1e1e; border-radius: 12px;">
    <h3 style="color: #fff; font-size: 1.1rem; margin: 0 0 16px 0;">
      <i class="fa-solid fa-circle-info" style="color: #C8E938;"></i> How MAINSTAGE Works
    </h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
      <div style="padding: 16px; background: #2a2a2a; border-radius: 8px;">
        <div style="color: #C8E938; font-weight: 600; margin-bottom: 8px;">Engagement Score</div>
        <p style="color: #888; font-size: 0.85rem; margin: 0;">Earn points from new followers, endorsements, shoutouts, and short likes during the week.</p>
      </div>
      <div style="padding: 16px; background: #2a2a2a; border-radius: 8px;">
        <div style="color: #E936AD; font-weight: 600; margin-bottom: 8px;">Community Votes</div>
        <p style="color: #888; font-size: 0.85rem; margin: 0;">Each vote from the community adds 10 bonus points. One vote per user per week.</p>
      </div>
      <div style="padding: 16px; background: #2a2a2a; border-radius: 8px;">
        <div style="color: #3b82f6; font-weight: 600; margin-bottom: 8px;">Weekly Winners</div>
        <p style="color: #888; font-size: 0.85rem; margin: 0;">Top scorer each week gets featured on the homepage and earns a MAINSTAGE winner badge!</p>
      </div>
    </div>
  </div>

  <%# Past winners link %>
  <div style="text-align: center; margin-top: 24px;">
    <%= link_to mainstage_winners_path, style: "color: #C8E938; text-decoration: none; font-size: 0.9rem;" do %>
      <i class="fa-solid fa-crown"></i> View Past Winners
    <% end %>
  </div>
</div>
